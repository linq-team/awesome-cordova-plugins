var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
/**
 * Enum for notification types.
 *
 * @readonly
 * @enum {number}
 */
export var NotificationType;
(function (NotificationType) {
    NotificationType[NotificationType["none"] = 0] = "none";
    NotificationType[NotificationType["badge"] = 1] = "badge";
    NotificationType[NotificationType["sound"] = 2] = "sound";
    NotificationType[NotificationType["alert"] = 4] = "alert";
})(NotificationType || (NotificationType = {}));
/**
 * Enum for presentation options.
 *
 * @readonly
 * @enum {number}
 */
export var PresentationOptions;
(function (PresentationOptions) {
    PresentationOptions[PresentationOptions["none"] = 0] = "none";
    PresentationOptions[PresentationOptions["badge"] = 1] = "badge";
    PresentationOptions[PresentationOptions["sound"] = 2] = "sound";
    PresentationOptions[PresentationOptions["alert"] = 4] = "alert";
})(PresentationOptions || (PresentationOptions = {}));
var UrbanAirShipOriginal = /** @class */ (function (_super) {
    __extends(UrbanAirShipOriginal, _super);
    function UrbanAirShipOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UrbanAirShipOriginal.prototype.onDeepLink = function () { return cordova(this, "onDeepLink", { "eventObservable": true, "event": "urbanairship.deep_link", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.onRegistration = function () { return cordova(this, "onRegistration", { "eventObservable": true, "event": "urbanairship.registration", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.onInboxUpdated = function () { return cordova(this, "onInboxUpdated", { "eventObservable": true, "event": "urbanairship.inbox_updated", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.onShowInbox = function () { return cordova(this, "onShowInbox", { "eventObservable": true, "event": "urbanairship.show_inbox", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.onPushReceived = function () { return cordova(this, "onPushReceived", { "eventObservable": true, "event": "urbanairship.push", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.onNotificationOpened = function () { return cordova(this, "onNotificationOpened", { "eventObservable": true, "event": "urbanairship.notification_opened", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.onNotificationOptInStatus = function () { return cordova(this, "onNotificationOptInStatus", { "eventObservable": true, "event": "urbanairship.notification_opt_in_status", "element": "document" }, arguments); };
    UrbanAirShipOriginal.prototype.reattach = function () { return cordova(this, "reattach", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.takeOff = function (config) { return cordova(this, "takeOff", {}, arguments); };
    UrbanAirShipOriginal.prototype.setAndroidNotificationConfig = function (config) { return cordova(this, "setAndroidNotificationConfig", {}, arguments); };
    UrbanAirShipOriginal.prototype.setAutoLaunchDefaultMessageCenter = function (enabled) { return cordova(this, "setAutoLaunchDefaultMessageCenter", {}, arguments); };
    UrbanAirShipOriginal.prototype.setUserNotificationsEnabled = function (enabled) { return cordova(this, "setUserNotificationsEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isUserNotificationsEnabled = function () { return cordova(this, "isUserNotificationsEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isAppNotificationsEnabled = function () { return cordova(this, "isAppNotificationsEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.getChannelID = function () { return cordova(this, "getChannelID", {}, arguments); };
    UrbanAirShipOriginal.prototype.getLaunchNotification = function (clear) { return cordova(this, "getLaunchNotification", {}, arguments); };
    UrbanAirShipOriginal.prototype.getDeepLink = function (clear) { return cordova(this, "getDeepLink", {}, arguments); };
    UrbanAirShipOriginal.prototype.getTags = function () { return cordova(this, "getTags", {}, arguments); };
    UrbanAirShipOriginal.prototype.setTags = function (tags) { return cordova(this, "setTags", {}, arguments); };
    UrbanAirShipOriginal.prototype.getAlias = function () { return cordova(this, "getAlias", {}, arguments); };
    UrbanAirShipOriginal.prototype.setAlias = function (alias) { return cordova(this, "setAlias", {}, arguments); };
    UrbanAirShipOriginal.prototype.isQuietTimeEnabled = function () { return cordova(this, "isQuietTimeEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.setQuietTimeEnabled = function (enabled) { return cordova(this, "setQuietTimeEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isInQuietTime = function () { return cordova(this, "isInQuietTime", {}, arguments); };
    UrbanAirShipOriginal.prototype.getQuietTime = function () { return cordova(this, "getQuietTime", {}, arguments); };
    UrbanAirShipOriginal.prototype.setQuietTime = function (startHour, startMinute, endHour, endMinute) { return cordova(this, "setQuietTime", {}, arguments); };
    UrbanAirShipOriginal.prototype.setAnalyticsEnabled = function (enabled) { return cordova(this, "setAnalyticsEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isAnalyticsEnabled = function () { return cordova(this, "isAnalyticsEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.getNamedUser = function () { return cordova(this, "getNamedUser", {}, arguments); };
    UrbanAirShipOriginal.prototype.setNamedUser = function (namedUser) { return cordova(this, "setNamedUser", {}, arguments); };
    UrbanAirShipOriginal.prototype.runAction = function (actionName, actionValue) { return cordova(this, "runAction", {}, arguments); };
    UrbanAirShipOriginal.prototype.editNamedUserTagGroups = function () { return cordova(this, "editNamedUserTagGroups", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.editChannelTagGroups = function () { return cordova(this, "editChannelTagGroups", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.editChannelAttributes = function () { return cordova(this, "editChannelAttributes", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.editNamedUserAttributes = function () { return cordova(this, "editNamedUserAttributes", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.editChannelSubscriptionLists = function () { return cordova(this, "editChannelSubscriptionLists", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.editContactSubscriptionLists = function () { return cordova(this, "editContactSubscriptionLists", { "sync": true }, arguments); };
    UrbanAirShipOriginal.prototype.getChannelSubscriptionLists = function () { return cordova(this, "getChannelSubscriptionLists", { "successIndex": 0, "errorIndex": 1 }, arguments); };
    UrbanAirShipOriginal.prototype.getContactSubscriptionLists = function () { return cordova(this, "getContactSubscriptionLists", { "successIndex": 0, "errorIndex": 1 }, arguments); };
    UrbanAirShipOriginal.prototype.setAssociatedIdentifier = function (key, identifier) { return cordova(this, "setAssociatedIdentifier", {}, arguments); };
    UrbanAirShipOriginal.prototype.setLocationEnabled = function (enabled) { return cordova(this, "setLocationEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isLocationEnabled = function () { return cordova(this, "isLocationEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.setBackgroundLocationEnabled = function (enabled) { return cordova(this, "setBackgroundLocationEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isBackgroundLocationEnabled = function () { return cordova(this, "isBackgroundLocationEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.displayMessageCenter = function () { return cordova(this, "displayMessageCenter", {}, arguments); };
    UrbanAirShipOriginal.prototype.dismissMessageCenter = function () { return cordova(this, "dismissMessageCenter", {}, arguments); };
    UrbanAirShipOriginal.prototype.dismissInboxMessage = function () { return cordova(this, "dismissInboxMessage", {}, arguments); };
    UrbanAirShipOriginal.prototype.dismissOverlayInboxMessage = function () { return cordova(this, "dismissOverlayInboxMessage", {}, arguments); };
    UrbanAirShipOriginal.prototype.getInboxMessages = function () { return cordova(this, "getInboxMessages", {}, arguments); };
    UrbanAirShipOriginal.prototype.markInboxMessageRead = function (messageId) { return cordova(this, "markInboxMessageRead", {}, arguments); };
    UrbanAirShipOriginal.prototype.deleteInboxMessage = function (messageId) { return cordova(this, "deleteInboxMessage", {}, arguments); };
    UrbanAirShipOriginal.prototype.displayInboxMessage = function (messageId) { return cordova(this, "displayInboxMessage", {}, arguments); };
    UrbanAirShipOriginal.prototype.refreshInbox = function () { return cordova(this, "refreshInbox", {}, arguments); };
    UrbanAirShipOriginal.prototype.overlayInboxMessage = function (messageId) { return cordova(this, "overlayInboxMessage", {}, arguments); };
    UrbanAirShipOriginal.prototype.clearNotification = function (identifier) { return cordova(this, "clearNotification", {}, arguments); };
    UrbanAirShipOriginal.prototype.clearNotifications = function () { return cordova(this, "clearNotifications", {}, arguments); };
    UrbanAirShipOriginal.prototype.getActiveNotifications = function () { return cordova(this, "getActiveNotifications", {}, arguments); };
    UrbanAirShipOriginal.prototype.setAutobadgeEnabled = function (enabled) { return cordova(this, "setAutobadgeEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.setBadgeNumber = function (count) { return cordova(this, "setBadgeNumber", {}, arguments); };
    UrbanAirShipOriginal.prototype.getBadgeNumber = function () { return cordova(this, "getBadgeNumber", {}, arguments); };
    UrbanAirShipOriginal.prototype.resetBadge = function () { return cordova(this, "resetBadge", {}, arguments); };
    UrbanAirShipOriginal.prototype.setNotificationTypes = function (types) { return cordova(this, "setNotificationTypes", {}, arguments); };
    UrbanAirShipOriginal.prototype.setPresentationOptions = function (options) { return cordova(this, "setPresentationOptions", {}, arguments); };
    UrbanAirShipOriginal.prototype.isSoundEnabled = function () { return cordova(this, "isSoundEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.setSoundEnabled = function (enabled) { return cordova(this, "setSoundEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.isVibrateEnabled = function () { return cordova(this, "isVibrateEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.setVibrateEnabled = function (enabled) { return cordova(this, "setVibrateEnabled", {}, arguments); };
    UrbanAirShipOriginal.prototype.addCustomEvent = function (event) { return cordova(this, "addCustomEvent", {}, arguments); };
    UrbanAirShipOriginal.prototype.trackScreen = function (screen) { return cordova(this, "trackScreen", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShipOriginal.prototype.enableFeature = function (features) { return cordova(this, "enableFeature", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShipOriginal.prototype.disableFeature = function (features) { return cordova(this, "disableFeature", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    /**
     * Sets the current enabled features, replacing any currently enabled features with the given set.
     *
     * @param {Array<string>} features The features to set as enabled.
     * @param {Function} [success] Success callback.
     * @param {function(message)} [failure] Failure callback.
     * @param {string} failure.message The error message.
     * @since 13.0.0
     */
    UrbanAirShipOriginal.prototype.setEnabledFeatures = function (features) {
        return;
    };
    UrbanAirShipOriginal.prototype.getEnabledFeatures = function () { return cordova(this, "getEnabledFeatures", { "successIndex": 0, "errorIndex": 1 }, arguments); };
    UrbanAirShipOriginal.prototype.isFeatureEnabled = function (features) { return cordova(this, "isFeatureEnabled", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShipOriginal.prototype.getPreferenceCenterConfig = function (preferenceCenterId) { return cordova(this, "getPreferenceCenterConfig", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShipOriginal.prototype.openPreferenceCenter = function (prenferenceCenterId) { return cordova(this, "openPreferenceCenter", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShipOriginal.prototype.setCurrentLocale = function (locale) { return cordova(this, "setCurrentLocale", {}, arguments); };
    UrbanAirShipOriginal.prototype.getCurrentLocale = function () { return cordova(this, "getCurrentLocale", {}, arguments); };
    UrbanAirShipOriginal.prototype.clearLocale = function () { return cordova(this, "clearLocale", {}, arguments); };
    UrbanAirShipOriginal.pluginName = "UrbanAirShip";
    UrbanAirShipOriginal.plugin = "urbanairship-cordova";
    UrbanAirShipOriginal.pluginRef = "window.UAirship";
    UrbanAirShipOriginal.repo = "https://www.npmjs.com/package/urbanairship-cordova";
    UrbanAirShipOriginal.install = "ionic cordova plugin add urbanairship-cordova";
    UrbanAirShipOriginal.platforms = ["Android", "iOS"];
    return UrbanAirShipOriginal;
}(AwesomeCordovaNativePlugin));
var UrbanAirShip = new UrbanAirShipOriginal();
export { UrbanAirShip };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvdXJiYW5haXJzaGlwL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUNBLE9BQU8sdUNBQStDLE1BQU0sK0JBQStCLENBQUM7QUFDNUYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQXdDbEM7Ozs7O0dBS0c7QUFDSCxNQUFNLENBQU4sSUFBWSxnQkFLWDtBQUxELFdBQVksZ0JBQWdCO0lBQzFCLHVEQUFRLENBQUE7SUFDUix5REFBUyxDQUFBO0lBQ1QseURBQVMsQ0FBQTtJQUNULHlEQUFTLENBQUE7QUFDWCxDQUFDLEVBTFcsZ0JBQWdCLEtBQWhCLGdCQUFnQixRQUszQjtBQUVEOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFOLElBQVksbUJBS1g7QUFMRCxXQUFZLG1CQUFtQjtJQUM3Qiw2REFBUSxDQUFBO0lBQ1IsK0RBQVMsQ0FBQTtJQUNULCtEQUFTLENBQUE7SUFDVCwrREFBUyxDQUFBO0FBQ1gsQ0FBQyxFQUxXLG1CQUFtQixLQUFuQixtQkFBbUIsUUFLOUI7O0lBK0JpQyxnQ0FBMEI7Ozs7SUFhMUQsaUNBQVU7SUFrQlYscUNBQWM7SUFjZCxxQ0FBYztJQWlCZCxrQ0FBVztJQXNCWCxxQ0FBYztJQXFCZCwyQ0FBb0I7SUF1QnBCLGdEQUF5QjtJQVV6QiwrQkFBUTtJQXNCUiw4QkFBTyxhQUFDLE1BQVc7SUFhbkIsbURBQTRCLGFBQUMsTUFBVztJQWN4Qyx3REFBaUMsYUFBQyxPQUFnQjtJQWFsRCxrREFBMkIsYUFBQyxPQUFnQjtJQWE1QyxpREFBMEI7SUFjMUIsZ0RBQXlCO0lBYXpCLG1DQUFZO0lBaUJaLDRDQUFxQixhQUFDLEtBQWM7SUFjcEMsa0NBQVcsYUFBQyxLQUFjO0lBYTFCLDhCQUFPO0lBYVAsOEJBQU8sYUFBQyxJQUFjO0lBY3RCLCtCQUFRO0lBY1IsK0JBQVEsYUFBQyxLQUFhO0lBYXRCLHlDQUFrQjtJQWFsQiwwQ0FBbUIsYUFBQyxPQUFnQjtJQWFwQyxvQ0FBYTtJQWtCYixtQ0FBWTtJQWdCWixtQ0FBWSxhQUFDLFNBQWlCLEVBQUUsV0FBbUIsRUFBRSxPQUFlLEVBQUUsU0FBaUI7SUFrQnZGLDBDQUFtQixhQUFDLE9BQWdCO0lBYXBDLHlDQUFrQjtJQWFsQixtQ0FBWTtJQWFaLG1DQUFZLGFBQUMsU0FBaUI7SUFlOUIsZ0NBQVMsYUFBQyxVQUFrQixFQUFFLFdBQWdCO0lBUTlDLDZDQUFzQjtJQVF0QiwyQ0FBb0I7SUFRcEIsNENBQXFCO0lBUXJCLDhDQUF1QjtJQVd2QixtREFBNEI7SUFXNUIsbURBQTRCO0lBZ0I1QixrREFBMkI7SUFnQjNCLGtEQUEyQjtJQWMzQiw4Q0FBdUIsYUFBQyxHQUFXLEVBQUUsVUFBa0I7SUFldkQseUNBQWtCLGFBQUMsT0FBZ0I7SUFjbkMsd0NBQWlCO0lBY2pCLG1EQUE0QixhQUFDLE9BQWdCO0lBYzdDLGtEQUEyQjtJQVkzQiwyQ0FBb0I7SUFZcEIsMkNBQW9CO0lBWXBCLDBDQUFtQjtJQWFuQixpREFBMEI7SUFtQjFCLHVDQUFnQjtJQWFoQiwyQ0FBb0IsYUFBQyxTQUFpQjtJQWF0Qyx5Q0FBa0IsYUFBQyxTQUFpQjtJQWFwQywwQ0FBbUIsYUFBQyxTQUFpQjtJQWVyQyxtQ0FBWTtJQWNaLDBDQUFtQixhQUFDLFNBQWlCO0lBWXJDLHdDQUFpQixhQUFDLFVBQWtCO0lBWXBDLHlDQUFrQjtJQWFsQiw2Q0FBc0I7SUFldEIsMENBQW1CLGFBQUMsT0FBZ0I7SUFhcEMscUNBQWMsYUFBQyxLQUFhO0lBYTVCLHFDQUFjO0lBWWQsaUNBQVU7SUFjViwyQ0FBb0IsYUFBQyxLQUF1QjtJQWM1Qyw2Q0FBc0IsYUFBQyxPQUE0QjtJQWVuRCxxQ0FBYztJQWFkLHNDQUFlLGFBQUMsT0FBZ0I7SUFhaEMsdUNBQWdCO0lBYWhCLHdDQUFpQixhQUFDLE9BQWdCO0lBaUJsQyxxQ0FBYyxhQUFDLEtBQWE7SUFpQjVCLGtDQUFXLGFBQUMsTUFBYztJQWlCMUIsb0NBQWEsYUFBQyxRQUFrQjtJQWlCaEMscUNBQWMsYUFBQyxRQUFrQjtJQUlqQzs7Ozs7Ozs7T0FRRztJQUNILHlDQUFrQixHQUFsQixVQUFtQixRQUFrQjtRQUNuQyxPQUFPO0lBQ1QsQ0FBQztJQWNELHlDQUFrQjtJQWlCbEIsdUNBQWdCLGFBQUMsUUFBa0I7SUFpQm5DLGdEQUF5QixhQUFDLGtCQUEwQjtJQWlCcEQsMkNBQW9CLGFBQUMsbUJBQTJCO0lBY2hELHVDQUFnQixhQUFDLE1BQWM7SUFjL0IsdUNBQWdCO0lBYWhCLGtDQUFXOzs7Ozs7O3VCQXJzQ2I7RUFpR2tDLDBCQUEwQjtTQUEvQyxZQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUGx1Z2luLCBDb3Jkb3ZhLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIFVBaXJzaGlwIFRhZyBFZGl0b3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUYWdHcm91cEVkaXRvciB7XG4gIGFkZFRhZ3ModGFnR3JvdXA6IHN0cmluZywgdGFnczogc3RyaW5nW10pOiBUYWdHcm91cEVkaXRvcjtcbiAgcmVtb3ZlVGFncyh0YWdHcm91cDogc3RyaW5nLCB0YWdzOiBzdHJpbmdbXSk6IFRhZ0dyb3VwRWRpdG9yO1xuICBhcHBseShzdWNjZXNzOiAoKSA9PiB2b2lkLCBmYWlsdXJlOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkKTogVGFnR3JvdXBFZGl0b3I7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBVQWlyc2hpcCBBdHRyaWJ1dGVzIEVkaXRvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZXNFZGl0b3Ige1xuICBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IERhdGUpOiBBdHRyaWJ1dGVzRWRpdG9yO1xuICByZW1vdmVBdHRyaWJ1dGUobmFtZTogc3RyaW5nKTogQXR0cmlidXRlc0VkaXRvcjtcbiAgYXBwbHkoc3VjY2VzczogKCkgPT4gdm9pZCwgZmFpbHVyZTogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCk6IEF0dHJpYnV0ZXNFZGl0b3I7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBVQWlyc2hpcCBDaGFubmVsU3Vic2NyaXB0aW9uTGlzdCBFZGl0b3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsU3Vic2NyaXB0aW9uTGlzdEVkaXRvciB7XG4gIHN1YnNjcmliZShzdWJzY3JpcHRpb25MaXN0SUQ6IHN0cmluZyk6IENoYW5uZWxTdWJzY3JpcHRpb25MaXN0RWRpdG9yO1xuICB1bnN1YnNjcmliZShzdWJzY3JpcHRpb25MaXN0SUQ6IHN0cmluZyk6IENoYW5uZWxTdWJzY3JpcHRpb25MaXN0RWRpdG9yO1xuICBhcHBseShzdWNjZXNzOiAoKSA9PiB2b2lkLCBmYWlsdXJlOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkKTogQ2hhbm5lbFN1YnNjcmlwdGlvbkxpc3RFZGl0b3I7XG59XG5cbmV4cG9ydCB0eXBlIENvbnRhY3RTdWJzY3JpcHRpb25TY29wZSA9ICdhcHAnIHwgJ2VtYWlsJyB8ICdwdXNoJyB8ICdzbXMnO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgVUFpcnNoaXAgQ29udGFjdFN1YnNjcmlwdGlvbkxpc3QgRWRpdG9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFjdFN1YnNjcmlwdGlvbkxpc3RFZGl0b3Ige1xuICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTGlzdElEOiBzdHJpbmcsIGNvbnRhY3RTY29wZTogQ29udGFjdFN1YnNjcmlwdGlvblNjb3BlKTogQ29udGFjdFN1YnNjcmlwdGlvbkxpc3RFZGl0b3I7XG4gIHVuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbkxpc3RJRDogc3RyaW5nLCBjb250YWN0U2NvcGU6IENvbnRhY3RTdWJzY3JpcHRpb25TY29wZSk6IENvbnRhY3RTdWJzY3JpcHRpb25MaXN0RWRpdG9yO1xuICBhcHBseShzdWNjZXNzOiAoKSA9PiB2b2lkLCBmYWlsdXJlOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkKTogQ29udGFjdFN1YnNjcmlwdGlvbkxpc3RFZGl0b3I7XG59XG5cbi8qKlxuICogRW51bSBmb3Igbm90aWZpY2F0aW9uIHR5cGVzLlxuICpcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gTm90aWZpY2F0aW9uVHlwZSB7XG4gIG5vbmUgPSAwLFxuICBiYWRnZSA9IDEsXG4gIHNvdW5kID0gMixcbiAgYWxlcnQgPSA0LFxufVxuXG4vKipcbiAqIEVudW0gZm9yIHByZXNlbnRhdGlvbiBvcHRpb25zLlxuICpcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gUHJlc2VudGF0aW9uT3B0aW9ucyB7XG4gIG5vbmUgPSAwLFxuICBiYWRnZSA9IDEsXG4gIHNvdW5kID0gMixcbiAgYWxlcnQgPSA0LFxufVxuXG4vKipcbiAqIEBuYW1lIFVyYmFuQWlyU2hpcFxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIHBsdWdpbiBkb2VzIHNvbWV0aGluZ1xuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBVcmJhbkFpclNoaXAgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvdXJiYW5haXJzaGlwL25neCc7XG4gKlxuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgdXJiYW5BaXJTaGlwOiBVcmJhbkFpclNoaXApIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiB0aGlzLnVyYmFuQWlyU2hpcC50YWtlT2ZmKGNvbmZpZylcbiAqICAgLnRoZW4oKHJlczogYW55KSA9PiBjb25zb2xlLmxvZyhyZXMpKVxuICogICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbiAqXG4gKiBgYGBcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdVcmJhbkFpclNoaXAnLFxuICBwbHVnaW46ICd1cmJhbmFpcnNoaXAtY29yZG92YScsXG4gIHBsdWdpblJlZjogJ3dpbmRvdy5VQWlyc2hpcCcsXG4gIHJlcG86ICdodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS91cmJhbmFpcnNoaXAtY29yZG92YScsXG4gIGluc3RhbGw6ICdpb25pYyBjb3Jkb3ZhIHBsdWdpbiBhZGQgdXJiYW5haXJzaGlwLWNvcmRvdmEnLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVXJiYW5BaXJTaGlwIGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogRXZlbnQgZmlyZWQgd2hlbiBhIG5ldyBkZWVwIGxpbmsgaXMgcmVjZWl2ZWQuXG4gICAqXG4gICAqIEBldmVudCBkZWVwX2xpbmtcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWVwTGlua10gVGhlIGRlZXAgbGluay5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXG4gICAgZXZlbnQ6ICd1cmJhbmFpcnNoaXAuZGVlcF9saW5rJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvbkRlZXBMaW5rKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gYSBjaGFubmVsIHJlZ2lzdHJhdGlvbiBvY2N1cnMuXG4gICAqXG4gICAqIEBldmVudCByZWdpc3RyYXRpb25cbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFubmVsSURdIFRoZSBjaGFubmVsIElELlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3JlZ2lzdHJhdGlvblRva2VuXSBUaGUgZGV2aWNlVG9rZW4gb24gaU9TLCBhbmQgdGhlIEZDTS9BRE0gdG9rZW4gb24gQW5kcm9pZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtlcnJvcl0gRXJyb3IgbWVzc2FnZSBpZiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXG4gICAgZXZlbnQ6ICd1cmJhbmFpcnNoaXAucmVnaXN0cmF0aW9uJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvblJlZ2lzdHJhdGlvbigpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBpbmJveCBpcyB1cGRhdGVkLlxuICAgKlxuICAgKiBAZXZlbnQgaW5ib3hfdXBkYXRlZFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBldmVudDogJ3VyYmFuYWlyc2hpcC5pbmJveF91cGRhdGVkJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvbkluYm94VXBkYXRlZCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBpbmJveCBuZWVkcyB0byBiZSBkaXNwbGF5ZWQuIFRoaXMgZXZlbnQgaXMgb25seSBlbWl0dGVkIGlmIGF1dG9cbiAgICogbGF1bmNoIG1lc3NhZ2UgY2VudGVyIGlzIGRpc2FibGVkLlxuICAgKlxuICAgKiBAZXZlbnQgc2hvd19pbmJveFxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW21lc3NhZ2VJZF0gVGhlIG9wdGlvbmFsIG1lc3NhZ2UgSUQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxuICAgIGV2ZW50OiAndXJiYW5haXJzaGlwLnNob3dfaW5ib3gnLFxuICAgIGVsZW1lbnQ6ICdkb2N1bWVudCcsXG4gIH0pXG4gIG9uU2hvd0luYm94KCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gYSBwdXNoIGlzIHJlY2VpdmVkLlxuICAgKlxuICAgKiBAZXZlbnQgcHVzaFxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgcHVzaCBhbGVydCBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGhlIHB1c2ggdGl0bGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJ0aXRsZSBUaGUgcHVzaCBzdWJ0aXRsZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGV4dHJhcyBBbnkgcHVzaCBleHRyYXMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcHMgVGhlIHJhdyBhcHMgZGljdGlvbmFyeSAoaU9TIG9ubHkpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbm90aWZpY2F0aW9uX2lkXSBUaGUgQW5kcm9pZCBub3RpZmljYXRpb24gSUQuIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2Ygbm90aWZpY2F0aW9uSWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbm90aWZpY2F0aW9uSWRdIFRoZSBub3RpZmljYXRpb24gSUQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxuICAgIGV2ZW50OiAndXJiYW5haXJzaGlwLnB1c2gnLFxuICAgIGVsZW1lbnQ6ICdkb2N1bWVudCcsXG4gIH0pXG4gIG9uUHVzaFJlY2VpdmVkKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gbm90aWZpY2F0aW9uIG9wZW5lZC5cbiAgICpcbiAgICogQGV2ZW50IG5vdGlmaWNhdGlvbl9vcGVuZWRcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIHB1c2ggYWxlcnQgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGV4dHJhcyBBbnkgcHVzaCBleHRyYXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbm90aWZpY2F0aW9uX2lkXSBUaGUgQW5kcm9pZCBub3RpZmljYXRpb24gSUQuIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2Ygbm90aWZpY2F0aW9uSWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbm90aWZpY2F0aW9uSWRdIFRoZSBub3RpZmljYXRpb24gSUQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYWN0aW9uSURdIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIGFjdGlvbiBidXR0b24gaWYgYXZhaWxhYmxlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRm9yZWdyb3VuZCBXaWxsIGFsd2F5cyBiZSB0cnVlIGlmIHRoZSB1c2VyIHRhcHMgdGhlIG1haW4gbm90aWZpY2F0aW9uLiBPdGhlcndpc2UgaXRzIGRlZmluZWQgYnkgdGhlIG5vdGlmaWNhdGlvbiBhY3Rpb24gYnV0dG9uLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBldmVudDogJ3VyYmFuYWlyc2hpcC5ub3RpZmljYXRpb25fb3BlbmVkJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvbk5vdGlmaWNhdGlvbk9wZW5lZCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSB1c2VyIG5vdGlmaWNhdGlvbiBvcHQtaW4gc3RhdHVzIGNoYW5nZXMuXG4gICAqXG4gICAqIEBldmVudCBub3RpZmljYXRpb25fb3B0X2luX3N0YXR1c1xuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdEluIElmIHRoZSB1c2VyIGlzIG9wdGVkIGluIG9yIG5vdCB0byB1c2VyIG5vdGlmaWNhdGlvbnMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbYXV0aG9yaXplZE5vdGlmaWNhdGlvblNldHRpbmdzXSBpT1Mgb25seS4gQSBtYXAgb2YgYXV0aG9yaXplZCBzZXR0aW5ncy5cbiAgICogQHBhcmFtIHtib29sZWFufSBhdXRob3JpemVkTm90aWZpY2F0aW9uU2V0dGluZ3MuYWxlcnQgSWYgYWxlcnRzIGFyZSBhdXRob3JpemVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dGhvcml6ZWROb3RpZmljYXRpb25TZXR0aW5ncy5zb3VuZCBJZiBzb3VuZHMgYXJlIGF1dGhvcml6ZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0aG9yaXplZE5vdGlmaWNhdGlvblNldHRpbmdzLmJhZGdlIElmIGJhZGdlcyBhcmUgYXV0aG9yaXplZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBhdXRob3JpemVkTm90aWZpY2F0aW9uU2V0dGluZ3MuY2FyUGxheSBJZiBjYXIgcGxheSBpcyBhdXRob3JpemVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dGhvcml6ZWROb3RpZmljYXRpb25TZXR0aW5ncy5sb2NrU2NyZWVuIElmIHRoZSBsb2NrIHNjcmVlbiBpcyBhdXRob3JpemVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dGhvcml6ZWROb3RpZmljYXRpb25TZXR0aW5ncy5ub3RpZmljYXRpb25DZW50ZXIgSWYgdGhlIG5vdGlmaWNhdGlvbiBjZW50ZXIgaXMgYXV0aG9yaXplZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXG4gICAgZXZlbnQ6ICd1cmJhbmFpcnNoaXAubm90aWZpY2F0aW9uX29wdF9pbl9zdGF0dXMnLFxuICAgIGVsZW1lbnQ6ICdkb2N1bWVudCcsXG4gIH0pXG4gIG9uTm90aWZpY2F0aW9uT3B0SW5TdGF0dXMoKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmUtYXR0YWNoZXMgZG9jdW1lbnQgZXZlbnQgbGlzdGVuZXJzIGluIHRoaXMgd2Vidmlld1xuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIHJlYXR0YWNoKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0YWlsaXplcyBVcmJhbiBBaXJzaGlwLlxuICAgKlxuICAgKiBUaGUgcGx1Z2luIHdpbGwgYXV0b21hdGljYWxseSBjYWxsIHRha2VPZmYgZHVyaW5nIHRoZSBuZXh0IGFwcCBpbml0IGluXG4gICAqIG9yZGVyIHRvIHByb3Blcmx5IGhhbmRsZSBpbmNvbWluZyBwdXNoLiBJZiB0YWtlT2ZmIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgKiBpbiBhIHNlc3Npb24sIG9yIGlmIHRoZSBjb25maWcgaXMgZGlmZmVyZW50IHRoYW4gdGhlIHByZXZpb3VzIHNlc3NzaW9uLCB0aGVcbiAgICogbmV3IGNvbmZpZyB3aWxsIG5vdCBiZSB1c2VkIHVudGlsIHRoZSBuZXh0IGFwcCBzdGFydC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9ICBjb25maWcgVGhlIFVyYmFuIEFpcnNoaXAgY29uZmlnLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbmZpZy5zaXRlIFNldHMgdGhlIGNsb3VkIHNpdGUsIG11c3QgYmUgZWl0aGVyIEVVIG9yIFVTLlxuICAgKiBAcGFyYW0ge29iamVjdH0gIGNvbmZpZy5kZXZlbG9wbWVudCBUaGUgVXJiYW4gQWlyc2hpcCBkZXZlbG9wbWVudCBjb25maWcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgY29uZmlnLmRldmVsb3BtZW50LmFwcEtleSBUaGUgZGV2ZWxvcG1lbnQgYXBwS2V5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbmZpZy5kZXZlbG9wbWVudC5hcHBTZWNyZXQgVGhlIGRldmVsb3BtZW50IGFwcFNlY3JldC5cbiAgICogQHBhcmFtIHtvYmplY3R9ICBjb25maWcucHJvZHVjdGlvbiBUaGUgVXJiYW4gQWlyc2hpcCBwcm9kdWN0aW9uIGNvbmZpZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9ICBjb25maWcucHJvZHVjdGlvbi5hcHBLZXkgVGhlIHByb2R1Y3Rpb24gYXBwS2V5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbmZpZy5wcm9kdWN0aW9uLmFwcFNlY3JldCBUaGUgcHJvZHVjdGlvbiBhcHBTZWNyZXQuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHRha2VPZmYoY29uZmlnOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBBbmRyb2lkIG5vdGlmaWNhdGlvbiBjb25maWcuIFZhbHVlcyBub3Qgc2V0IHdpbGwgZmFsbGJhY2sgdG8gYW55IHZhbHVlcyBzZXQgaW4gdGhlIGNvbmZpZy54bWwuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSAgY29uZmlnIFRoZSBub3RpZmljYXRpb24gY29uZmlnLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIFtjb25maWcuaWNvbl0gVGhlIG5hbWUgb2YgdGhlIGRyYXdhYmxlIHJlc291cmNlIHRvIHVzZSBhcyB0aGUgbm90aWZpY2F0aW9uIGljb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgW2NvbmZpZy5sYXJnZUljb25dIFRoZSBuYW1lIG9mIHRoZSBkcmF3YWJsZSByZXNvdXJjZSB0byB1c2UgYXMgdGhlIG5vdGlmaWNhdGlvbiBsYXJnZSBpY29uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIFtjb25maWcuYWNjZW50Q29sb3JdIFRoZSBub3RpZmljYXRpb24gYWNjZW50IGNvbG9yLiBGb3JtYXQgaXMgI0FBUlJHR0JCLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRBbmRyb2lkTm90aWZpY2F0aW9uQ29uZmlnKGNvbmZpZzogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGVmYXVsdCBiZWhhdmlvciB3aGVuIHRoZSBtZXNzYWdlIGNlbnRlciBpcyBsYXVuY2hlZCBmcm9tIGEgcHVzaFxuICAgKiBub3RpZmljYXRpb24uIElmIHNldCB0byBmYWxzZSB0aGUgbWVzc2FnZSBjZW50ZXIgbXVzdCBiZSBtYW51YWxseSBsYXVuY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gYXV0b21hdGljYWxseSBsYXVuY2ggdGhlIGRlZmF1bHQgbWVzc2FnZSBjZW50ZXIsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QXV0b0xhdW5jaERlZmF1bHRNZXNzYWdlQ2VudGVyKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHVzZXIgbm90aWZpY2F0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIG5vdGlmaWNhdGlvbnMsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0VXNlck5vdGlmaWNhdGlvbnNFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdXNlciBub3RpZmljYXRpb25zIGFyZSBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgdXNlciBub3RpZmljYXRpb25zIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNVc2VyTm90aWZpY2F0aW9uc0VuYWJsZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFwcCBub3RpZmljYXRpb25zIGFyZSBlbmFibGVkIG9yIG5vdC4gSXRzIHBvc3NpYmxlIHRvIGhhdmUgYHVzZXJOb3RpZmljYXRpb25zRW5hYmxlZGBcbiAgICogYnV0IGFwcCBub3RpZmljYXRpb25zIGJlaW5nIGRpc2FibGVkIGlmIHRoZSB1c2VyIG9wdGVkIG91dCBvZiBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVuYWJsZWQpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5lbmFibGVkIEZsYWcgaW5kaWNhdGluZyBpZiBhcHAgbm90aWZpY2F0aW9ucyBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzQXBwTm90aWZpY2F0aW9uc0VuYWJsZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2hhbm5lbCBJRC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihJRCl9IHN1Y2Nlc3MgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1Y2Nlc3MuSUQgVGhlIGNoYW5uZWwgSUQgc3RyaW5nXG4gICAqIEBwYXJhbSB7ZmFpbHVyZUNhbGxiYWNrfSBbZmFpbHVyZV0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZmFpbHVyZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0Q2hhbm5lbElEKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxhc3Qgbm90aWZpY2F0aW9uIHRoYXQgbGF1bmNoZWQgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIHRydWUgdG8gY2xlYXIgdGhlIG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihwdXNoKX0gc3VjY2VzcyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3VjY2Vzcy5wdXNoIFRoZSBwdXNoIG1lc3NhZ2Ugb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSBhc3NvY2lhdGVkIHdpdGggYSBwdXNoIG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1Y2Nlc3MucHVzaC5tZXNzYWdlIFRoZSBwdXNoIGFsZXJ0IG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdWNjZXNzLnB1c2guZXh0cmFzIEFueSBwdXNoIGV4dHJhcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdWNjZXNzLnB1c2gubm90aWZpY2F0aW9uX2lkXSBUaGUgQW5kcm9pZCBub3RpZmljYXRpb24gSUQuXG4gICAqIEBwYXJhbSB7ZmFpbHVyZUNhbGxiYWNrfSBbZmFpbHVyZV0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZmFpbHVyZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0TGF1bmNoTm90aWZpY2F0aW9uKGNsZWFyOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGFzdCByZWNlaXZlZCBkZWVwIGxpbmsuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgdHJ1ZSB0byBjbGVhciB0aGUgZGVlcCBsaW5rLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHB1c2gpfSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWNjZXNzLmRlZXBMaW5rIFRoZSBkZWVwIGxpbmsuXG4gICAqIEBwYXJhbSB7ZmFpbHVyZUNhbGxiYWNrfSBbZmFpbHVyZV0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZmFpbHVyZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0RGVlcExpbmsoY2xlYXI6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0YWdzIGFzIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRhZ3MpfSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN1Y2Nlc3MudGFncyBUaGUgdGFncyBhcyBhbiBhcnJheS5cbiAgICogQHBhcmFtIHtmYWlsdXJlQ2FsbGJhY2t9IFtmYWlsdXJlXSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBmYWlsdXJlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRUYWdzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRhZ3MuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHRhZ3MgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRUYWdzKHRhZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWxpYXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgc2luY2UgNi43LjAgLSB0byBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgdGhlIHBsdWdpbiAtIHBsZWFzZSB1c2UgZ2V0TmFtZWRVc2VyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY3VycmVudEFsaWFzKX0gc3VjY2VzcyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3VjY2Vzcy5jdXJyZW50QWxpYXMgVGhlIGFsaWFzIGFzIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0QWxpYXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYWxpYXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgc2luY2UgNi43LjAgIC0gdG8gYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIHRoZSBwbHVnaW4gLSBwbGVhc2UgdXNlIHNldE5hbWVkVXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWxpYXMgc3RyaW5nXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QWxpYXMoYWxpYXM6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBxdWlldCB0aW1lIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVuYWJsZWQpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5lbmFibGVkIEZsYWcgaW5kaWNhdGluZyBpZiBxdWlldCB0aW1lIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNRdWlldFRpbWVFbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgcXVpZXQgdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHF1aWV0IHRpbWUsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0UXVpZXRUaW1lRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkZXZpY2UgaXMgY3VycmVudGx5IGluIHF1aWV0IHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW5RdWlldFRpbWUpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5pblF1aWV0VGltZSBGbGFnIGluZGljYXRpbmcgaWYgcXVpZXQgdGltZSBpcyBjdXJyZW50bHkgaW4gZWZmZWN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNJblF1aWV0VGltZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBxdWlldCB0aW1lIGFzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmc6XG4gICAqIFwic3RhcnRIb3VyXCI6IE51bWJlcixcbiAgICogXCJzdGFydE1pbnV0ZVwiOiBOdW1iZXIsXG4gICAqIFwiZW5kSG91clwiOiBOdW1iZXIsXG4gICAqIFwiZW5kTWludXRlXCI6IE51bWJlclxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHF1aWV0VGltZSl9IHN1Y2Nlc3MgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN1Y2Nlc3MucXVpZXRUaW1lIFRoZSBxdWlldFRpbWUgb2JqZWN0IHJlcHJlc2VudHMgYSB0aW1lc3BhbiBkdXJpbmdcbiAgICogICAgICAgIHdoaWNoIG5vdGlmaWNhdGlvbnMgc2hvdWxkIGJlIHNpbGVuY2VkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0UXVpZXRUaW1lKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHF1aWV0IHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEhvdXIgZm9yIHF1aWV0IHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydE1pbnV0ZSBmb3IgcXVpZXQgdGltZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEhvdXIgZm9yIHF1aWV0IHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRNaW51dGUgZm9yIHF1aWV0IHRpbWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0UXVpZXRUaW1lKHN0YXJ0SG91cjogbnVtYmVyLCBzdGFydE1pbnV0ZTogbnVtYmVyLCBlbmRIb3VyOiBudW1iZXIsIGVuZE1pbnV0ZTogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyBhbmFseXRpY3MuXG4gICAqXG4gICAqIERpc2FibGluZyBhbmFseXRpY3Mgd2lsbCBkZWxldGUgYW55IGxvY2FsbHkgc3RvcmVkIGV2ZW50c1xuICAgKiBhbmQgcHJldmVudCBhbnkgZXZlbnRzIGZyb20gdXBsb2FkaW5nLiBGZWF0dXJlcyB0aGF0IGRlcGVuZCBvbiBhbmFseXRpY3MgYmVpbmdcbiAgICogZW5hYmxlZCBtYXkgbm90IHdvcmsgcHJvcGVybHkgaWYgaXQncyBkaXNhYmxlZCAocmVwb3J0cywgcmVnaW9uIHRyaWdnZXJzLFxuICAgKiBsb2NhdGlvbiBzZWdtZW50YXRpb24sIHB1c2ggdG8gbG9jYWwgdGltZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCB0cnVlIHRvIGVuYWJsZSBhbmFseXRpY3MsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QW5hbHl0aWNzRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFuYWx5dGljcyBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgYW5hbHl0aWNzIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNBbmFseXRpY3NFbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5hbWVkIHVzZXIgSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obmFtZWRVc2VyKX0gc3VjY2VzcyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3VjY2Vzcy5uYW1lZFVzZXIgVGhlIG5hbWVkIHVzZXIgSUQgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXROYW1lZFVzZXIoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbmFtZWQgdXNlciBJRC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVkVXNlciBpZGVudGlmaWVyIHN0cmluZy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXROYW1lZFVzZXIobmFtZWRVc2VyOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIFVyYmFuIEFpcnNoaXAgYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uTmFtZSBhY3Rpb24gYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7Kn0gYWN0aW9uVmFsdWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihyZXN1bHQpfSBbc3VjY2Vzc10gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN1Y2Nlc3MucmVzdWx0IFRoZSByZXN1bHQncyB2YWx1ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJ1bkFjdGlvbihhY3Rpb25OYW1lOiBzdHJpbmcsIGFjdGlvblZhbHVlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRvciB0byBtb2RpZnkgdGhlIG5hbWVkIHVzZXIgdGFnIGdyb3Vwcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlZGl0TmFtZWRVc2VyVGFnR3JvdXBzKCk6IFRhZ0dyb3VwRWRpdG9yIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlZGl0b3IgdG8gbW9kaWZ5IHRoZSBjaGFubmVsIHRhZyBncm91cHMuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgZWRpdENoYW5uZWxUYWdHcm91cHMoKTogVGFnR3JvdXBFZGl0b3Ige1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRvciB0byBtb2RpZnkgdGhlIGNoYW5uZWwgYXR0cmlidXRlcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlZGl0Q2hhbm5lbEF0dHJpYnV0ZXMoKTogQXR0cmlidXRlc0VkaXRvciB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdG9yIHRvIG1vZGlmeSB0aGUgbmFtZWQgdXNlciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGVkaXROYW1lZFVzZXJBdHRyaWJ1dGVzKCk6IEF0dHJpYnV0ZXNFZGl0b3Ige1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRvciB0byBtb2RpZnkgdGhlIGNoYW5uZWwgc3Vic2NyaXB0aW9uIGxpc3RzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Q2hhbm5lbFN1YnNjcmlwdGlvbkxpc3RFZGl0b3J9IEEgc3Vic2NyaXB0aW9uIGxpc3QgZWRpdG9yIGluc3RhbmNlLlxuICAgKiBAc2luY2UgMTMuMy4wXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgZWRpdENoYW5uZWxTdWJzY3JpcHRpb25MaXN0cygpOiBDaGFubmVsU3Vic2NyaXB0aW9uTGlzdEVkaXRvciB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdG9yIHRvIG1vZGlmeSB0aGUgY29udGFjdCBzdWJzY3JpcHRpb24gbGlzdHMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb250YWN0U3Vic2NyaXB0aW9uTGlzdEVkaXRvcn0gQSBzdWJzY3JpcHRpb24gbGlzdCBlZGl0b3IgaW5zdGFuY2UuXG4gICAqIEBzaW5jZSAxMy4zLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlZGl0Q29udGFjdFN1YnNjcmlwdGlvbkxpc3RzKCk6IENvbnRhY3RTdWJzY3JpcHRpb25MaXN0RWRpdG9yIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzZXQgb2Ygc3Vic2NyaXB0aW9uIGxpc3RzIGZvciB0aGUgY3VycmVudCBjaGFubmVsLFxuICAgKiBvcHRpb25hbGx5IGFwcGx5aW5nIHBlbmRpbmcgc3Vic2NyaXB0aW9uIGxpc3QgY2hhbmdlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCBkdXJpbmcgdGhlIG5leHQgY2hhbm5lbCB1cGRhdGUuXG4gICAqIEFuIGVtcHR5IHNldCBpbmRpY2F0ZXMgdGhhdCB0aGlzIGNvbnRhY3QgaXMgbm90IHN1YnNjcmliZWQgdG8gYW55IGxpc3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDAsXG4gICAgZXJyb3JJbmRleDogMSxcbiAgfSlcbiAgZ2V0Q2hhbm5lbFN1YnNjcmlwdGlvbkxpc3RzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzZXQgb2Ygc3Vic2NyaXB0aW9uIGxpc3RzIGZvciB0aGUgY3VycmVudCBjb250YWN0LFxuICAgKiBvcHRpb25hbGx5IGFwcGx5aW5nIHBlbmRpbmcgc3Vic2NyaXB0aW9uIGxpc3QgY2hhbmdlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCBkdXJpbmcgdGhlIG5leHQgY29udGFjdCB1cGRhdGUuXG4gICAqIEFuIGVtcHR5IHNldCBpbmRpY2F0ZXMgdGhhdCB0aGlzIGNvbnRhY3QgaXMgbm90IHN1YnNjcmliZWQgdG8gYW55IGxpc3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDAsXG4gICAgZXJyb3JJbmRleDogMSxcbiAgfSlcbiAgZ2V0Q29udGFjdFN1YnNjcmlwdGlvbkxpc3RzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhbiBhc3NvY2lhdGVkIGlkZW50aWZpZXIgZm9yIHRoZSBDb25uZWN0IGRhdGEgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IEN1c3RvbSBrZXkgZm9yIGlkZW50aWZpZXIuXG4gICAqIEBwYXJhbSBpZGVudGlmaWVyIFRoZSBpZGVudGlmaWVyIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldEFzc29jaWF0ZWRJZGVudGlmaWVyKGtleTogc3RyaW5nLCBpZGVudGlmaWVyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBMb2NhdGlvblxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIFVyYmFuIEFpcnNoaXAgbG9jYXRpb24gc2VydmljZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCB0cnVlIHRvIGVuYWJsZSBsb2NhdGlvbiwgZmFsc2UgdG8gZGlzYWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRMb2NhdGlvbkVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBsb2NhdGlvbiBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgbG9jYXRpb24gaXMgZW5hYmxlZCBvciBub3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAZGVwcmVjYXRlZCByZW1vdmVkIGluIHZlcnNpb24gOC4wXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzTG9jYXRpb25FbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgYmFja2dyb3VuZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIGJhY2tncm91bmQgbG9jYXRpb24sIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQGRlcHJlY2F0ZWQgcmVtb3ZlZCBpbiB2ZXJzaW9uIDguMFxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRCYWNrZ3JvdW5kTG9jYXRpb25FbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYmFja2dyb3VuZCBsb2NhdGlvbiBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgYmFja2dyb3VuZCBsb2NhdGlvbiB1cGRhdGVzIGFyZSBlbmFibGVkIG9yIG5vdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBkZXByZWNhdGVkIHJlbW92ZWQgaW4gdmVyc2lvbiA4LjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNCYWNrZ3JvdW5kTG9jYXRpb25FbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBtZXNzYWdlIGNlbnRlci5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBkaXNwbGF5TWVzc2FnZUNlbnRlcigpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBtZXNzYWdlIGNlbnRlci5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBkaXNtaXNzTWVzc2FnZUNlbnRlcigpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBpbmJveCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGRpc21pc3NJbmJveE1lc3NhZ2UoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzbWlzcyB0aGUgaW5ib3ggbWVzc2FnZSBpbiB0aGUgb3ZlcmxheS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAZGVwcmVjYXRlZCByZW1vdmVkIGluIHZlcnNpb24gMTAuMFxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBkaXNtaXNzT3ZlcmxheUluYm94TWVzc2FnZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhcnJheSBvZiBpbmJveCBtZXNzYWdlcy4gRWFjaCBtZXNzYWdlIHdpbGwgaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqIFwiaWRcIjogc3RyaW5nIC0gVGhlIG1lc3NhZ2VzIElELiBOZWVkZWQgdG8gZGlzcGxheSwgbWFyayBhcyByZWFkLCBvciBkZWxldGUgdGhlIG1lc3NhZ2UuXG4gICAqIFwidGl0bGVcIjogc3RyaW5nIC0gVGhlIG1lc3NhZ2UgdGl0bGUuXG4gICAqIFwic2VudERhdGVcIjogbnVtYmVyIC0gVGhlIG1lc3NhZ2Ugc2VudCBkYXRlIGluIG1pbGxpc2Vjb25kcy5cbiAgICogXCJsaXN0SWNvblVybFwiOiBzdHJpbmcsIG9wdGlvbmFsIC0gVGhlIGljb24gdXJsIGZvciB0aGUgbWVzc2FnZS5cbiAgICogXCJpc1JlYWRcIjogYm9vbGVhbiAtIFRoZSB1bnJlYWQvcmVhZCBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UuXG4gICAqIFwiZXh0cmFzXCI6IG9iamVjdCAtIFN0cmluZyB0byBTdHJpbmcgbWFwIG9mIGFueSBtZXNzYWdlIGV4dHJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlcyl9IHN1Y2Nlc3MgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtBcnJheX0gc3VjY2Vzcy5tZXNzYWdlcyBUaGUgYXJyYXkgb2YgaW5ib3ggbWVzc2FnZXMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRJbmJveE1lc3NhZ2VzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIGFuIGluYm94IG1lc3NhZ2UgcmVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gbWFyayBhcyByZWFkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIG1hcmtJbmJveE1lc3NhZ2VSZWFkKG1lc3NhZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhbiBpbmJveCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZUlkIFRoZSBJRCBvZiB0aGUgbWVzc2FnZSB0byBkZWxldGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZGVsZXRlSW5ib3hNZXNzYWdlKG1lc3NhZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGluYm94IG1lc3NhZ2UgdXNpbmcgYSBmdWxsIHNjcmVlbiB2aWV3LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZUlkIFRoZSBJRCBvZiB0aGUgbWVzc2FnZSB0byBkaXNwbGF5LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGRpc3BsYXlJbmJveE1lc3NhZ2UobWVzc2FnZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIGluYm94IHRvIHJlZnJlc2guIFRoaXMgaXMgbm9ybWFsbHkgbm90IG5lZWRlZCBhcyB0aGUgaW5ib3hcbiAgICogd2lsbCBhdXRvbWF0aWNhbGx5IHJlZnJlc2ggb24gZm9yZWdyb3VuZCBvciB3aGVuIGEgcHVzaCBhcnJpdmVzIHRoYXRzXG4gICAqIGFzc29jaWF0ZWQgd2l0aCBhIG1lc3NhZ2UsIGJ1dCBpdCBjYW4gYmUgdXNlZnVsIHdoZW4gcHJvdmlkaW5nIGEgcmVmcmVzaFxuICAgKiBidXR0b24gZm9yIHRoZSBtZXNzYWdlIGxpc3RpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVmcmVzaEluYm94KCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBpbmJveCBtZXNzYWdlIHVzaW5nIGFuIG92ZXJsYXkgZGlzcGxheS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gZGlzcGxheS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAZGVwcmVjYXRlZCByZW1vdmVkIGluIHZlcnNpb24gMTAuMFxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBvdmVybGF5SW5ib3hNZXNzYWdlKG1lc3NhZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGEgbm90aWZpY2F0aW9uIGJ5IGlkZW50aWZpZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIFRoZSBub3RpZmljYXRpb24gaWRlbnRpZmllci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBjbGVhck5vdGlmaWNhdGlvbihpZGVudGlmaWVyOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIG5vdGlmaWNhdGlvbnMgcG9zdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBjbGVhck5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjdXJyZW50bHkgYWN0aXZlIG5vdGlmaWNhdGlvbnMuXG4gICAqXG4gICAqIE5vdGU6IE9uIEFuZHJvaWQgdGhpcyBmdW5jdGlvbmFsaXR5IGlzIG9ubHkgc3VwcG9ydGVkIG9uIEFuZHJvaWQgTSBvciBoaWdoZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZXMpfSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldEFjdGl2ZU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBpT1Mgb25seVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIGF1dG8gYmFkZ2UuIERlZmF1bHRzIHRvIGBOT2AuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCB0cnVlIHRvIGVuYWJsZSBhdXRvIGJhZGdlLCBmYWxzZSB0byBkaXNhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldEF1dG9iYWRnZUVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJhZGdlIG51bWJlci5cbiAgICpcbiAgICogQHBhcmFtIGNvdW50IG51bWJlciBzcGVjaWZpZWQgYmFkZ2UgdG8gc2V0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldEJhZGdlTnVtYmVyKGNvdW50OiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGJhZGdlIG51bWJlci5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihiYWRnZU51bWJlcil9IHN1Y2Nlc3MgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtpbnR9IHN1Y2Nlc3MuYmFkZ2VOdW1iZXIgVGhlIGN1cnJlbnQgYXBwbGljYXRpb24gYmFkZ2UgbnVtYmVyLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0QmFkZ2VOdW1iZXIoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBiYWRnZS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZXNldEJhZGdlKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGlPUyBub3RpZmljYXRpb24gdHlwZXMuIFNwZWNpZnkgdGhlIGNvbWJpbmF0aW9uIG9mXG4gICAqIGJhZGdlcywgc291bmQgYW5kIGFsZXJ0cyB0aGF0IGFyZSBkZXNpcmVkLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZXMgc3BlY2lmaWVkIG5vdGlmaWNhdGlvbiB0eXBlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXROb3RpZmljYXRpb25UeXBlcyh0eXBlczogTm90aWZpY2F0aW9uVHlwZSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGlPUyBwcmVzZW50YXRpb24gb3B0aW9ucy4gU3BlY2lmeSB0aGUgY29tYmluYXRpb24gb2ZcbiAgICogYmFkZ2VzLCBzb3VuZCBhbmQgYWxlcnRzIHRoYXQgYXJlIGRlc2lyZWQuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIHR5cGVzIHNwZWNpZmllZCBwcmVzZW50YXRpb24gb3B0aW9ucy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRQcmVzZW50YXRpb25PcHRpb25zKG9wdGlvbnM6IFByZXNlbnRhdGlvbk9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEFuZHJvaWQgb25seVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgbm90aWZpY2F0aW9uIHNvdW5kIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVuYWJsZWQpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5lbmFibGVkIEZsYWcgaW5kaWNhdGluZyBpZiBzb3VuZCBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzU291bmRFbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgbm90aWZpY2F0aW9uIHNvdW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgc291bmQsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0U291bmRFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgbm90aWZpY2F0aW9uIHZpYnJhdGlvbiBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgdmlicmF0aW9uIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNWaWJyYXRlRW5hYmxlZCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIG5vdGlmaWNhdGlvbiB2aWJyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCB0cnVlIHRvIGVuYWJsZSB2aWJyYXRpb24sIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0VmlicmF0ZUVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjdXN0b20gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgY3VzdG9tIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIGV2ZW50J3MgbmFtZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtldmVudC52YWx1ZV0gVGhlIGV2ZW50J3MgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnQudHJhbnNhY3Rpb25JZF0gVGhlIGV2ZW50J3MgdHJhbnNhY3Rpb24gSUQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbZXZlbnQucHJvcGVydGllc10gVGhlIGV2ZW50J3MgcHJvcGVydGllcy4gT25seSBudW1iZXJzLCBib29sZWFucywgc3RyaW5ncywgYW5kIGFycmF5IG9mIHN0cmluZ3MgYXJlIHN1cHBvcnRlZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBhZGRDdXN0b21FdmVudChldmVudDogb2JqZWN0KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhdGVzIHNjcmVlbiB0cmFja2luZyBmb3IgYSBzcGVjaWZpYyBhcHAgc2NyZWVuLCBtdXN0IGJlIGNhbGxlZCBvbmNlIHBlciB0cmFja2VkIHNjcmVlbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNjcmVlbiBUaGUgc2NyZWVuJ3Mgc3RyaW5nIGlkZW50aWZpZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHNpbmNlIDExLjAuMFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICB0cmFja1NjcmVlbihzY3JlZW46IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgZmVhdHVyZXMsIGFkZGluZyB0aGVtIHRvIHRoZSBzZXQgb2YgY3VycmVudGx5IGVuYWJsZWQgZmVhdHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZmVhdHVyZXMgVGhlIGZlYXR1cmVzIHRvIGVuYWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAc2luY2UgMTMuMC4wXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIGVuYWJsZUZlYXR1cmUoZmVhdHVyZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgZmVhdHVyZXMsIHJlbW92aW5nIHRoZW0gZnJvbSB0aGUgc2V0IG9mIGN1cnJlbnRseSBlbmFibGVkIGZlYXR1cmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGZlYXR1cmVzIFRoZSBmZWF0dXJlcyB0byBkaXNhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxMy4wLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZGlzYWJsZUZlYXR1cmUoZmVhdHVyZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBlbmFibGVkIGZlYXR1cmVzLCByZXBsYWNpbmcgYW55IGN1cnJlbnRseSBlbmFibGVkIGZlYXR1cmVzIHdpdGggdGhlIGdpdmVuIHNldC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmZWF0dXJlcyBUaGUgZmVhdHVyZXMgdG8gc2V0IGFzIGVuYWJsZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHNpbmNlIDEzLjAuMFxuICAgKi9cbiAgc2V0RW5hYmxlZEZlYXR1cmVzKGZlYXR1cmVzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZW5hYmxlZCBmZWF0dXJlcy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAc2luY2UgMTMuMC4wXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAwLFxuICAgIGVycm9ySW5kZXg6IDEsXG4gIH0pXG4gIGdldEVuYWJsZWRGZWF0dXJlcygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYWxsIG9mIHRoZSBnaXZlbiBmZWF0dXJlcyBhcmUgZW5hYmxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmZWF0dXJlcyBUaGUgZmVhdHVyZXMgdG8gY2hlY2suXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHNpbmNlIDEzLjAuMFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBpc0ZlYXR1cmVFbmFibGVkKGZlYXR1cmVzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIFByZWZlcmVuY2UgQ2VudGVyIHdpdGggdGhlIGdpdmVuIElEIHRyb3VnaCBhIGNhbGxiYWNrIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZlcmVuY2VDZW50ZXJJZCBUaGUgcHJlZmVyZW5jZSBjZW50ZXIgSUQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHNpbmNlIDEzLjMuMFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBnZXRQcmVmZXJlbmNlQ2VudGVyQ29uZmlnKHByZWZlcmVuY2VDZW50ZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIFByZWZlcmVuY2UgQ2VudGVyIHdpdGggdGhlIGdpdmVuIHByZWZlcmVuY2VDZW50ZXJJZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZW5mZXJlbmNlQ2VudGVySWQgVGhlIHByZWZlcmVuY2UgY2VudGVyIElELlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxMy4wLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgb3BlblByZWZlcmVuY2VDZW50ZXIocHJlbmZlcmVuY2VDZW50ZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBsb2NhbGUgc2V0dGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSBsYW5ndWFnZSBhbmQgb3B0aW9uYWwgY291bnRyeSBjb2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxNC4zLjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0Q3VycmVudExvY2FsZShsb2NhbGU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnRseSBzZXQgbG9jYWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGxvY2FsZSl9IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3VjY2Vzcy5sb2NhbGUgVGhlIGxvY2FsZSBhcyBhIHN0cmluZy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxNC4zLjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0Q3VycmVudExvY2FsZSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGN1cnJlbnQgbG9jYWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxNC4zLjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2xlYXJMb2NhbGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==